<core-ui-generic-modal>
  <ng-container header>
    <button mat-icon-button mat-dialog-close>
      <mat-icon svgIcon="close-24px"></mat-icon>
    </button>
    <h2 class="m-auto">
      <span> Customer search</span>
    </h2>
    <div></div>
  </ng-container>

  <main class="fs-modal__body density-settings-3">
    <div class="search-container">
      <mat-form-field appearance="outline" class="w-700">
        <mat-label>Customer Search</mat-label>
        <input
          matInput
          spellcheck="false"
          [formControl]="searchControl"
          placeholder="Enter 3 characters to start search"
        />
        <mat-spinner
          [ngStyle]="{ visibility: searchInProgress ? 'visible' : 'hidden' }"
          matPrefix
          [diameter]="18"
          style="float: right; margin-left: 8px"
        ></mat-spinner>
        <button
          mat-icon-button
          matSuffix
          color="primary"
          [attr.aria-label]="'Add customer'"
          (click)="onCustomerAdd()"
        >
          <mat-icon svgIcon="add-circle"></mat-icon>
        </button>
      </mat-form-field>

      <div class="search-results w-700">
        <tsm-ui-customer-info
          *ngFor="let item of items"
          class="w-700"
          [customer]="item"
          (selectedCustomer)="onCustomerSelected($event)"
          (editedCustomer)="onCustomerEdit($event)"
        ></tsm-ui-customer-info>
      </div>
      <div class="paginator">
        <mat-paginator
          #paginator
          class="demo-paginator"
          (page)="handlePageEvent($event)"
          [length]="length"
          [pageSize]="pageSize"
          [pageSizeOptions]="[]"
          [hidePageSize]="true"
          [pageIndex]="pageIndex"
          aria-label="Select page"
        >
        </mat-paginator>
      </div>
    </div>
  </main>
</core-ui-generic-modal>
